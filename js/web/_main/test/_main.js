describe(tt.getModuleSuiteName(), function() {
	describe('createNewCityMapEntity', function() {
		it('Sparkforge Stormspire', function() {
			const ceData = {
				"id": "W_MultiAge_HAL23B4", "asset_id": "W_MultiAge_HAL23B4", "name": "Sparkforge Stormspire", "entity_levels": [], "abilities": [ { "gridId": "main", "__class__": "BuildingPlacementAbility" } ],
				"components": {
					"AllAge": { "placement": { "type": "placement", "gridId": "main", "content": "main", "size": { "type": "size", "x": 1, "y": 1, "z": 2, "__class__": "SizeComponent" }, "__class__": "PlacementComponent" },
						"constructionTime": { "type": "constructionTime", "time": 5, "__class__": "ConstructionTimeComponent" },
						"rankingPoints": { "type": "rankingPoints", "typeFactor": 1, "specialFactor": 2, "__class__": "RankingPointsComponent" },
						"flags": { "type": "flags", "flags": 19, "__class__": "FlagsComponent" },
						"socialInteraction": { "type": "socialInteraction", "interactionType": "motivate", "__class__": "SocialInteractionComponent" },
						"tags": { "type": "tags", "tags": [ { "tag": "buildingType", "buildingType": "residential", "__class__": "BuildingTypeTag" } ], "__class__": "TagsComponent" },
						"value": { "type": "value", "rarity": "epic", "premiumEquivalent": 1400, "__class__": "ValueComponent" },
						"autoPolivatePriority": { "type": "autoPolivatePriority", "priority": 99, "__class__": "AutoPolivatePriorityComponent" },
						"boosts": { "type": "boosts", "boosts": [ { "type": "att_boost_attacker", "value": 6, "targetedFeature": "all", "__class__": "BoostHint" } ], "__class__": "BoostsComponent" },
						"production": { "type": "production", "options": [ { "asset": "bazaar_4", "name": "Option 1", "time": 86400, "products": [
							{ "type": "resources", "playerResources": { "resources": { "random_good_of_age": 1 }, "__class__": "Resources" }, "__class__": "ResourceProduct" },
							{ "type": "random", "onlyWhenMotivated": true, "products": [
								{ "product": { "type": "genericReward", "reward": { "id": "resource#strategy_points#2", "flags": [], "__class__": "GenericReward" }, "__class__": "GenericRewardProduct" }, "dropChance": 0.4, "__class__": "RandomProductEntry" },
								{ "product": { "type": "genericReward", "reward": { "id": "resource#strategy_points#4", "flags": [], "__class__": "GenericReward" }, "__class__": "GenericRewardProduct" }, "dropChance": 0.1, "__class__": "RandomProductEntry" },
								{ "product": { "type": "genericReward", "reward": { "id": "fragment#building_limited_daunting_tower_active#2", "flags": [], "__class__": "GenericReward" }, "__class__": "GenericRewardProduct" }, "dropChance": 0.5, "__class__": "RandomProductEntry" }
							], "__class__": "RandomProduct" }
						], "__class__": "ProductionOption" } ], "autoStart": true, "__class__": "ProductionsComponent" },
						"lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" }
					},
					"BronzeAge": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -28 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -180, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"IronAge": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -60 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -310, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"EarlyMiddleAge": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -91 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -350, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"HighMiddleAge": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -128 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -390, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"LateMiddleAge": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -168 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -430, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"ColonialAge": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -212 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -510, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"IndustrialAge": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -259 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -570, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"ProgressiveEra": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -309 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -630, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"ModernEra": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -362 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -670, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"PostModernEra": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -417 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -700, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"ContemporaryEra": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -475 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -810, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"TomorrowEra": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -535 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -980, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"FutureEra": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -598 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -1170, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"ArcticFuture": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -663 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -1370, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"OceanicFuture": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -731 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -1580, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"VirtualFuture": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -800 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -1880, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"SpaceAgeMars": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -1266 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -3010, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"SpaceAgeAsteroidBelt": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -1375 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -3270, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"SpaceAgeVenus": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -1487 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -3530, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"SpaceAgeJupiterMoon": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -1601 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -3800, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } },
					"SpaceAgeTitan": { "staticResources": { "type": "staticResources", "resources": { "resources": { "population": -1717 }, "__class__": "Resources" }, "__class__": "StaticResourcesComponent" }, "happiness": { "type": "happiness", "provided": -4080, "__class__": "HappinessComponent" }, "lookup": { "type": "lookup", "rewards": { "resource#strategy_points#2": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "resource#strategy_points#4": { "type": "resource", "subType": "strategy_points", "amount": 4, "id": "resource#strategy_points#4", "name": "4 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "fragment#building_limited_daunting_tower_active#2": { "type": "consumable", "subType": "fragment", "amount": 2, "id": "fragment#building_limited_daunting_tower_active#2", "name": "2 Fragments of Daunting Tower - Active", "description": "Collect enough fragments to assemble Daunting Tower - Active", "iconAssetName": "icon_fragment", "isHighlighted": true, "flags": [], "boostValue": 1, "assembledReward": { "type": "building", "subType": "W_MultiAge_HalloweenBonus22b", "amount": 1, "id": "building_limited_daunting_tower_active", "name": "Daunting Tower - Active", "description": "", "isHighlighted": true, "flags": [ "epic" ], "boostValue": 1, "__class__": "GenericReward" }, "requiredAmount": 100, "__class__": "FragmentReward" } }, "__class__": "LookupComponent" } }
				}, "stateDefinitionHash": "4ac9d4bce99479e33771a790a5df0494591e2288", "__class__": "GenericCityEntity", "type": "residential"
			};
			const data = {
				"id": 76, "player_id": 309149, "cityentity_id": "W_MultiAge_HAL23B4", "type": "generic_building", "x": 9, "y": 14,
				"state": {
					"next_state_transition_in": 59107, "next_state_transition_at": 1704486150, "socialInteractionStartedAt": 1704400558, "socialInteractionId": "motivate", "constructionFinishedAt": 1698009581,
					"productionOption": {
						"asset": "bazaar_4", "name": "Option 1", "time": 86400,
						"products": [
							{ "type": "resources", "playerResources": { "resources": { "wine": 1 }, "__class__": "Resources" }, "__class__": "ResourceProduct" },
							{ "type": "genericReward", "isRandom": true, "reward": { "type": "resource", "subType": "strategy_points", "amount": 2, "id": "resource#strategy_points#2", "name": "2 Forge Points", "description": "Use Forge Points to research technologies or contribute them to Great Buildings.", "iconAssetName": "forgepoints", "flags": [], "boostValue": 1, "__class__": "GenericReward" }, "__class__": "GenericRewardProduct" }
						], "__class__": "ProductionOption"
					}, "__class__": "ProducingState"
				},
				"level": 1, "__class__": "CityMapEntity"
			};
			const era = Technologies.getEraName(data.cityentity_id, data.level);
			expect(era).toBeTruthy();

			const productions = MainParser.getBoostedProductions(ceData,data,era);

			expect(productions).toBeTruthy();
		});
	});
});
